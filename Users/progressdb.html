<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Progress - SMARTY PLAYGROUND</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    body {
      font-family: 'Fredoka', sans-serif;
    }

    .phone-container {
      max-width: 400px;
      margin: 0 auto;
      background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      position: relative;
    }

    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle 3s infinite ease-in-out;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.2; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.2); }
    }

    .progress-bar {
      background: #e5e7eb;
      border-radius: 50px;
      height: 10px;
      overflow: hidden;
      position: relative;
    }

    .progress-fill {
      height: 100%;
      border-radius: 50px;
      transition: width 0.8s ease;
      position: relative;
      overflow: hidden;
    }

    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .nav-btn {
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .nav-btn.active {
      color: #667eea;
    }

    .lesson-card {
      transition: all 0.3s ease;
    }

    .lesson-card:active {
      transform: scale(0.98);
    }

    .circular-progress {
      transform: rotate(-90deg);
    }

    .reset-btn {
      transition: all 0.3s ease;
    }

    .reset-btn:active {
      transform: scale(0.95);
    }
  </style>
</head>

<body class="bg-gray-100">
  <div class="phone-container">
    <!-- Background Stars -->
    <div id="stars"></div>

    <!-- HEADER -->
    <header class="px-5 pt-6 pb-4 relative z-10">
      <div class="flex items-center justify-between">
        <h1 class="text-white font-bold text-3xl">My Progress</h1>
        <button onclick="resetProgress()" class="reset-btn w-12 h-12 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center">
          <span class="text-2xl">ğŸ”„</span>
        </button>
      </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="px-5 pb-24 relative z-10">
      
      <!-- Overall Stats Card -->
      <section class="bg-gradient-to-br from-yellow-400 to-orange-500 rounded-3xl p-6 shadow-xl mb-5">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-white font-bold text-xl">ğŸ¯ Learning Stats</h3>
        </div>

        <div class="grid grid-cols-3 gap-3">
          <div class="text-center">
            <div class="text-white text-3xl font-bold mb-1" id="totalCompleted">0</div>
            <p class="text-white/90 text-xs">Completed</p>
          </div>
          <div class="text-center">
            <div class="text-white text-3xl font-bold mb-1" id="totalLessons">0</div>
            <p class="text-white/90 text-xs">Total</p>
          </div>
          <div class="text-center">
            <div class="text-white text-3xl font-bold mb-1" id="overallProgress">0%</div>
            <p class="text-white/90 text-xs">Progress</p>
          </div>
        </div>
      </section>

      <!-- Games Section -->
      <section class="bg-white rounded-3xl p-5 shadow-xl mb-5">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-gray-800 font-bold text-xl">ğŸ® Games</h3>
          <div class="flex items-center gap-2">
            <span class="text-gray-600 text-sm font-medium" id="gamesProgress">0%</span>
          </div>
        </div>

        <div class="space-y-3 mb-4">
          <!-- Game 1 -->
          <div class="lesson-card bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-4 border-2 border-purple-100" data-key="wordGameCompleted">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3 flex-1">
                <div class="w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-500 rounded-xl flex items-center justify-center shadow-md">
                  <span class="text-2xl">ğŸ“</span>
                </div>
                <div class="flex-1">
                  <p class="text-gray-800 font-bold text-sm">Spell the Word</p>
                  <p class="text-gray-500 text-xs">Drag letters to spell</p>
                </div>
              </div>
              <span class="game-status text-xl">âŒ</span>
            </div>
          </div>

          <!-- Game 2 -->
          <div class="lesson-card bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-4 border-2 border-blue-100" data-key="readingGameCompleted">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3 flex-1">
                <div class="w-12 h-12 bg-gradient-to-br from-blue-400 to-cyan-500 rounded-xl flex items-center justify-center shadow-md">
                  <span class="text-2xl">ğŸ”¤</span>
                </div>
                <div class="flex-1">
                  <p class="text-gray-800 font-bold text-sm">Beginning Sounds</p>
                  <p class="text-gray-500 text-xs">Match letters & sounds</p>
                </div>
              </div>
              <span class="game-status text-xl">âŒ</span>
            </div>
          </div>
        </div>

        <div class="progress-bar">
          <div class="progress-fill bg-gradient-to-r from-purple-400 to-pink-500" id="gamesProgressBar" style="width: 0%"></div>
        </div>
      </section>

      <!-- Reading Lessons Section -->
      <section class="bg-white rounded-3xl p-5 shadow-xl mb-5">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-gray-800 font-bold text-xl">ğŸ“š Reading Lessons</h3>
          <div class="flex items-center gap-2">
            <span class="text-gray-600 text-sm font-medium" id="lessonsProgress">0%</span>
          </div>
        </div>

        <div class="space-y-3 mb-4">
          <!-- Lesson 1 -->
          <div class="lesson-card bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-4 border-2 border-green-100" data-key="lesson1Completed">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3 flex-1">
                <div class="w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-xl flex items-center justify-center shadow-md">
                  <span class="text-2xl">ğŸ…°ï¸</span>
                </div>
                <div class="flex-1">
                  <p class="text-gray-800 font-bold text-sm">Letter Recognition</p>
                  <p class="text-gray-500 text-xs">Uppercase A-Z</p>
                </div>
              </div>
              <span class="lesson-status text-xl">âŒ</span>
            </div>
          </div>

          <!-- Lesson 2 -->
          <div class="lesson-card bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl p-4 border-2 border-yellow-100" data-key="lesson2Completed">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3 flex-1">
                <div class="w-12 h-12 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl flex items-center justify-center shadow-md">
                  <span class="text-2xl">ğŸ”Š</span>
                </div>
                <div class="flex-1">
                  <p class="text-gray-800 font-bold text-sm">Phonics Basics</p>
                  <p class="text-gray-500 text-xs">Learn letter sounds</p>
                </div>
              </div>
              <span class="lesson-status text-xl">âŒ</span>
            </div>
          </div>

          <!-- Lesson 3 -->
          <div class="lesson-card bg-gradient-to-br from-cyan-50 to-blue-50 rounded-2xl p-4 border-2 border-cyan-100" data-key="lesson3Completed">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3 flex-1">
                <div class="w-12 h-12 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-xl flex items-center justify-center shadow-md">
                  <span class="text-2xl">ğŸ“–</span>
                </div>
                <div class="flex-1">
                  <p class="text-gray-800 font-bold text-sm">Simple Words</p>
                  <p class="text-gray-500 text-xs">Read 3-letter words</p>
                </div>
              </div>
              <span class="lesson-status text-xl">âŒ</span>
            </div>
          </div>

          <!-- Lesson 4 -->
          <div class="lesson-card bg-gradient-to-br from-pink-50 to-rose-50 rounded-2xl p-4 border-2 border-pink-100" data-key="lesson4Completed">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3 flex-1">
                <div class="w-12 h-12 bg-gradient-to-br from-pink-400 to-rose-500 rounded-xl flex items-center justify-center shadow-md">
                  <span class="text-2xl">ğŸ‘€</span>
                </div>
                <div class="flex-1">
                  <p class="text-gray-800 font-bold text-sm">Sight Words</p>
                  <p class="text-gray-500 text-xs">Memorize common words</p>
                </div>
              </div>
              <span class="lesson-status text-xl">âŒ</span>
            </div>
          </div>
        </div>

        <div class="progress-bar">
          <div class="progress-fill bg-gradient-to-r from-green-400 to-emerald-500" id="lessonsProgressBar" style="width: 0%"></div>
        </div>
      </section>

      
    </main>

    <!-- BOTTOM NAVIGATION -->
    <footer class="fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-[400px] bg-white rounded-t-3xl shadow-2xl px-6 py-4 z-20">
      <div class="flex justify-around items-center relative">
        <button class="nav-btn flex flex-col items-center gap-1 text-gray-400" onclick="window.location.href='dashboard.html'">
          <span class="text-3xl">ğŸ </span>
          <span class="text-xs">Home</span>
        </button>
        
        <button class="nav-btn flex flex-col items-center gap-1 text-gray-400" onclick="window.location.href='dailyrewards.html'">
          <span class="text-3xl">ğŸ</span>
          <span class="text-xs">Rewards</span>
        </button>
        
        <button class="nav-btn active flex flex-col items-center gap-1">
          <span class="text-3xl">ğŸ“Š</span>
          <span class="text-xs font-semibold">Progress</span>
        </button>
        
        <button class="nav-btn flex flex-col items-center gap-1 text-gray-400" onclick="window.location.href='dbprofile.html'">
          <span class="text-3xl">ğŸ‘¤</span>
          <span class="text-xs">Profile</span>
        </button>
      </div>
    </footer>
  </div>

  <script>
    // Create background stars
    const starsContainer = document.getElementById('stars');
    for (let i = 0; i < 30; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      const size = Math.random() * 3 + 1;
      star.style.width = size + 'px';
      star.style.height = size + 'px';
      star.style.left = Math.random() * 100 + '%';
      star.style.top = Math.random() * 60 + '%';
      star.style.animationDelay = Math.random() * 3 + 's';
      star.style.animationDuration = (Math.random() * 2 + 2) + 's';
      starsContainer.appendChild(star);
    }

    // Load and display progress
    function loadProgress() {
      let totalCompleted = 0;
      let totalItems = 0;

      // Games
      let gamesCompleted = 0;
      const gameItems = document.querySelectorAll('.lesson-card[data-key^="wordGame"], .lesson-card[data-key^="readingGame"]');
      gameItems.forEach(item => {
        totalItems++;
        const key = item.getAttribute('data-key');
        const status = item.querySelector('.game-status');
        const completed = localStorage.getItem(key) === 'true';
        
        if (completed) {
          gamesCompleted++;
          totalCompleted++;
          status.textContent = 'âœ…';
          item.classList.add('opacity-75');
        }
      });

      // Lessons
      let lessonsCompleted = 0;
      const lessonItems = document.querySelectorAll('.lesson-card[data-key^="lesson"]');
      lessonItems.forEach(item => {
        totalItems++;
        const key = item.getAttribute('data-key');
        const status = item.querySelector('.lesson-status');
        const completed = localStorage.getItem(key) === 'true';
        
        if (completed) {
          lessonsCompleted++;
          totalCompleted++;
          status.textContent = 'âœ…';
          item.classList.add('opacity-75');
        }
      });

      // Math
      let mathCompleted = 0;
      const mathItems = document.querySelectorAll('.lesson-card[data-key^="math"]');
      mathItems.forEach(item => {
        totalItems++;
        const key = item.getAttribute('data-key');
        const status = item.querySelector('.math-status');
        const completed = localStorage.getItem(key) === 'true';
        
        if (completed) {
          mathCompleted++;
          totalCompleted++;
          status.textContent = 'âœ…';
          item.classList.add('opacity-75');
        }
      });

      // Update progress bars
      const gamesPercent = Math.round((gamesCompleted / gameItems.length) * 100);
      const lessonsPercent = Math.round((lessonsCompleted / lessonItems.length) * 100);
      const mathPercent = Math.round((mathCompleted / mathItems.length) * 100);
      const overallPercent = Math.round((totalCompleted / totalItems) * 100);

      document.getElementById('gamesProgress').textContent = gamesPercent + '%';
      document.getElementById('gamesProgressBar').style.width = gamesPercent + '%';
      
      document.getElementById('lessonsProgress').textContent = lessonsPercent + '%';
      document.getElementById('lessonsProgressBar').style.width = lessonsPercent + '%';
      
      document.getElementById('mathProgress').textContent = mathPercent + '%';
      document.getElementById('mathProgressBar').style.width = mathPercent + '%';

      // Update stats
      document.getElementById('totalCompleted').textContent = totalCompleted;
      document.getElementById('totalLessons').textContent = totalItems;
      document.getElementById('overallProgress').textContent = overallPercent + '%';
    }

    function resetProgress() {
      if (confirm('Are you sure you want to reset all progress? This cannot be undone.')) {
        // Clear specific progress keys
        const keys = ['wordGameCompleted', 'readingGameCompleted', 'lesson1Completed', 'lesson2Completed', 'lesson3Completed', 'lesson4Completed', 'math1Completed', 'math2Completed', 'math3Completed'];
        keys.forEach(key => localStorage.removeItem(key));
        location.reload();
      }
    }

    // Load progress on page load
    document.addEventListener('DOMContentLoaded', loadProgress);
  </script>
</body>
</html>